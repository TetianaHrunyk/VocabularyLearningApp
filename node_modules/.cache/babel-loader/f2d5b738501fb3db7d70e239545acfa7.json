{"ast":null,"code":"var _jsxFileName = \"/home/tania/Documents/uni/uniba2nd/TIA/vocs/src/components/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useMemo, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Navbar from \"./Navbbar\";\nimport Home from \"./Home\";\nimport Footer from \"./Footer\";\nimport LogIn from \"./LogIn\";\nimport SignUp from \"./SignUp\";\nimport NotFound from \"./NotFound\";\nimport UserContext from \"../contexts/UserContext\";\nimport Decks from \"./Decks\";\nimport Cards from \"./Cards\";\nimport Study from \"./Study\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport django_host from \"./paths\"; //import useGetData from \"../hooks/useGetData\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [loggedIn, setLoggedIn] = useState(localStorage.getItem(\"token\") ? true : false);\n  const [username, setUsername] = useState(\"\");\n  const curUser = useMemo(() => ({\n    username,\n    setUsername\n  }), [username, setUsername]);\n  const [error, setError] = useState(\"\");\n  const [logInTime, setLogInTime] = useState(null); //  const deleted = false\n  //  const { data } = useGetData(django_host+\"api/decks/\", \"GET\", `JWT ${localStorage.getItem('token')}`, deleted)\n  //  console.log(\"Data in Navbar: \", data)\n\n  useEffect(() => {\n    if (loggedIn) {\n      fetch(django_host + \"api/current_user/\", {\n        headers: {\n          Authorization: `JWT ${localStorage.getItem(\"token\")}`\n        }\n      }).then(res => res.json()).then(json => {\n        setUsername(json.id);\n      });\n      fetch(django_host + \"api/decks/\", {\n        method: \"GET\",\n        headers: {\n          Authorization: `JWT ${localStorage.getItem(\"token\")}`,\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => response.json()).then(data => {\n        const decksIds = data.map(elem => elem.id);\n        const decksNames = data.map(elem => elem.deckName);\n        localStorage.setItem(\"decksIds\", decksIds);\n        localStorage.setItem(\"decksNames\", decksNames);\n      }).catch(error => {\n        console.error(\"Error:\", error);\n      });\n    }\n  }, [loggedIn]);\n\n  const handleLogOut = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"decks\");\n    setUsername(\"\");\n    setLoggedIn(false);\n    setLogInTime(null);\n  };\n\n  const handleLogIn = (e, data, history) => {\n    setError(\"\");\n    e.preventDefault();\n    fetch(django_host + \"token-auth/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    }).then(res => res.json()).then(json => {\n      localStorage.setItem(\"token\", json.token);\n      setLogInTime(Date.now());\n      setUsername(json.user.id);\n      setLoggedIn(true);\n      history.push(\"/\");\n    }).catch(e => {\n      setError(e.message);\n    });\n  };\n\n  const handleSignUp = (e, data, history) => {\n    e.preventDefault();\n    setError(\"\");\n    fetch(django_host + \"api/users/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    }).then(res => res.json()).then(json => {\n      if (json.username[0] === \"A user with that username already exists.\") {\n        throw new Error(\"A user with that username already exists\");\n      }\n\n      setLoggedIn(true);\n      setUsername(json.id);\n      history.push(\"/login\");\n    }).catch(e => {\n      setError(e.message);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(UserContext.Provider, {\n        value: curUser,\n        children: [/*#__PURE__*/_jsxDEV(Navbar, {\n          handleLogOut: handleLogOut,\n          logInTime: logInTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              children: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/login\",\n              children: /*#__PURE__*/_jsxDEV(LogIn, {\n                handleLogIn: handleLogIn,\n                error: error,\n                setError: setError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/signup\",\n              children: /*#__PURE__*/_jsxDEV(SignUp, {\n                handleSignUp: handleSignUp,\n                error: error,\n                setError: setError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/decks\",\n              children: /*#__PURE__*/_jsxDEV(Decks, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/cards/\",\n              children: /*#__PURE__*/_jsxDEV(Cards, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/study\",\n              children: /*#__PURE__*/_jsxDEV(Study, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"*\",\n              children: /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"MgdKuodjapD/gTg92+epWkL804E=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/tania/Documents/uni/uniba2nd/TIA/vocs/src/components/App.js"],"names":["useState","useMemo","useEffect","BrowserRouter","Router","Route","Switch","Navbar","Home","Footer","LogIn","SignUp","NotFound","UserContext","Decks","Cards","Study","django_host","App","loggedIn","setLoggedIn","localStorage","getItem","username","setUsername","curUser","error","setError","logInTime","setLogInTime","fetch","headers","Authorization","then","res","json","id","method","response","data","decksIds","map","elem","decksNames","deckName","setItem","catch","console","handleLogOut","removeItem","handleLogIn","e","history","preventDefault","body","JSON","stringify","token","Date","now","user","push","message","handleSignUp","Error"],"mappings":"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","sourcesContent":["import { useState, useMemo, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Navbar from \"./Navbbar\";\nimport Home from \"./Home\";\nimport Footer from \"./Footer\";\nimport LogIn from \"./LogIn\";\nimport SignUp from \"./SignUp\";\nimport NotFound from \"./NotFound\";\nimport UserContext from \"../contexts/UserContext\";\nimport Decks from \"./Decks\";\nimport Cards from \"./Cards\";\nimport Study from \"./Study\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport django_host from \"./paths\";\n//import useGetData from \"../hooks/useGetData\";\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(\n    localStorage.getItem(\"token\") ? true : false\n  );\n  const [username, setUsername] = useState(\"\");\n  const curUser = useMemo(() => ({ username, setUsername }), [\n    username,\n    setUsername,\n  ]);\n  const [error, setError] = useState(\"\");\n  const [logInTime, setLogInTime] = useState(null);\n  //  const deleted = false\n\n  //  const { data } = useGetData(django_host+\"api/decks/\", \"GET\", `JWT ${localStorage.getItem('token')}`, deleted)\n  //  console.log(\"Data in Navbar: \", data)\n\n  useEffect(() => {\n    if (loggedIn) {\n      fetch(django_host + \"api/current_user/\", {\n        headers: {\n          Authorization: `JWT ${localStorage.getItem(\"token\")}`,\n        },\n      })\n        .then((res) => res.json())\n        .then((json) => {\n          setUsername(json.id);\n      });\n      fetch(django_host + \"api/decks/\", {\n        method: \"GET\",\n        headers: {\n          Authorization: `JWT ${localStorage.getItem(\"token\")}`,\n          \"Content-Type\": \"application/json\",\n        },\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          const decksIds = data.map(elem => elem.id)\n          const decksNames = data.map(elem => elem.deckName)\n          localStorage.setItem(\"decksIds\", decksIds);\n          localStorage.setItem(\"decksNames\", decksNames);\n        })\n        .catch((error) => {\n          console.error(\"Error:\", error);\n        });\n    }\n  }, [loggedIn]);\n\n  const handleLogOut = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"decks\");\n    setUsername(\"\");\n    setLoggedIn(false);\n    setLogInTime(null);\n  };\n\n  const handleLogIn = (e, data, history) => {\n    setError(\"\");\n    e.preventDefault();\n    fetch(django_host + \"token-auth/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    })\n      .then((res) => res.json())\n      .then((json) => {\n        localStorage.setItem(\"token\", json.token);\n        setLogInTime(Date.now());\n        setUsername(json.user.id);\n        setLoggedIn(true);\n        history.push(\"/\");\n      })\n      .catch((e) => {\n        setError(e.message);\n      });\n  };\n\n  const handleSignUp = (e, data, history) => {\n    e.preventDefault();\n    setError(\"\");\n    fetch(django_host + \"api/users/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    })\n      .then((res) => res.json())\n      .then((json) => {\n        if (json.username[0] === \"A user with that username already exists.\") {\n          throw new Error(\"A user with that username already exists\");\n        }\n        setLoggedIn(true);\n        setUsername(json.id);\n        history.push(\"/login\");\n      })\n      .catch((e) => {\n        setError(e.message);\n      });\n  };\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <UserContext.Provider value={curUser}>\n          <Navbar handleLogOut={handleLogOut} logInTime={logInTime} />\n          <div className=\"content\">\n            <Switch>\n              <Route exact path=\"/\">\n                <Home />\n              </Route>\n              <Route exact path=\"/login\">\n                <LogIn\n                  handleLogIn={handleLogIn}\n                  error={error}\n                  setError={setError}\n                />\n              </Route>\n              <Route exact path=\"/signup\">\n                <SignUp\n                  handleSignUp={handleSignUp}\n                  error={error}\n                  setError={setError}\n                />\n              </Route>\n              <Route exact path=\"/decks\">\n                <Decks />\n              </Route>\n              <Route exact path=\"/cards/\">\n                <Cards />\n              </Route>\n              <Route exact path=\"/study\">\n                <Study />\n              </Route>\n              <Route path=\"*\">\n                <NotFound />\n              </Route>\n            </Switch>\n          </div>\n        </UserContext.Provider>\n\n        <Footer />\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}